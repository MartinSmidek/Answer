<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
  <base href="http://ys2.ezer:8080/tut3">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <link rel="shortcut icon" href="./tut3/img/tut_3_local.png" />
  <title>TRY3</title>
  <script src='./ezer3/client/licensed/jquery-3.2.1.min.js' type='text/javascript' charset='utf-8'></script>
  <script src='./ezer3/client/licensed/jquery-ui.min.js' type='text/javascript' charset='utf-8'></script>
  <link href='./ezer3/client/licensed/jquery-ui.theme.min.css' rel="stylesheet" >
  <style>

html,body { width:100%; height:100%; }
#track { position:absolute; border:1px solid black; left:10px top:10px; width:22px; height:100px; }
#thumb { position:absolute; background:grey; width:20px; height:20px; margin:1px;}
#info  { position:absolute; border:1px solid black; left:100px; top:10px; width:100px; height:30px; }

#slider { margin: 10px; }

  </style>
  <script type="text/javascript">

  jQuery('#slider').slider();

/*
class Slider {
  constructor($) {
    this.thumb= document.querySelector('#thumb');
    this.track= document.querySelector('#track');
    this.move= this.mouseMove.bind(this);

    this.jBody=  $('body');
    this.jThumb= $('#thumb');
    this.jTrack= $('#track');

    this.top= this.jTrack.offset().top,
    this.bot= this.top+this.jTrack.height()-1,
    this.hei= this.jThumb.height();
  }
  jStart() {
    this.jThumb.mousedown( ev => this.jDown() )
    this.jBody.mouseup( ev => this.jUp() ) }
  jDown(ev) {
    this.jTrack.on('mousemove', this.jMove.bind(this)) }
  jUp(ev) {
    this.jTrack.off('mousemove') }
  jMove(ev) {
    let top= ev.pageY,
        bot= top+this.hei;
    $('#info').text(top-this.top);
    if ( top>=this.top && bot<this.bot ) {
      this.jThumb.css({top:top-this.top})
    }
  }

  start() {
    thumb.addEventListener('mousedown', this.mouseDown.bind(this), false);
    window.addEventListener('mouseup', this.mouseUp.bind(this), false);
  }
  mouseDown(e) {
    track.addEventListener('mousemove', this.move, true);}
  mouseUp(e) {
    track.removeEventListener('mousemove', this.move, true);}
  mouseMove(e) {
    let y= e.clientY;
    this.thumb.style.top = y + 'px'; }
}

window.onload= function() {
//   var slider= new Slider(jQuery);
//   slider.jStart()
//   slider.start()  // bez jQuery
}
*/
/*
window.onload = addListeners;
function addListeners(){
  document.getElementById('thumb').addEventListener('mousedown', mouseDown, false);
  window.addEventListener('mouseup', mouseUp, false);
}
function mouseUp() { window.removeEventListener('mousemove', divMove, true);}
function mouseDown(e) { window.addEventListener('mousemove', divMove, true);}
function divMove(e){ document.getElementById('thumb').style.top = e.clientY + 'px'; }
*/

/*

function addListeners(){
   var top= jQuery('#okraj').position().top;
   var thumb= jQuery('#thumb')
    .mousedown( evd => {
      thumb.mousemove( evm => {
        thumb.css('top',evm.pageY-top)
      })
    })
//   document.getElementById('thumb').addEventListener('mousedown', mouseDown, false);
    window.addEventListener('mouseup', mouseUp, false);
//     jQuery('body').mouseup( (ev) => {
//       jQuery('#thumb').off('mousemove');
//     })
}

function mouseUp() {
    window.removeEventListener('mousemove');//, divMove, true);
}

function mouseDown(e) {
  window.addEventListener('mousemove', divMove, true);
}

function divMove(e){
  var div= jQuery('#thumb')[0];
//   div.style.position = 'absolute';
  div.style.top = e.clientY + 'px';
//   div.style.left = e.clientX + 'px';
}

*/

</script>
</head>
<body>
  <div id='track'>
    <div id='thumb'></div>
  </div>
  <div id='info'></div>

</body>
</html>
